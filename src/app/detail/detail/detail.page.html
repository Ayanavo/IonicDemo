<!-- <ion-header [translucent]="true">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-button (click)="dismiss()">
                <ion-icon slot="icon-only" name="arrow-back-outline"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>{{data.original_title}}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
    <div class="bg-cover bg-center h-64 w-full" [ngStyle]="{ 'background-image': 'url(' + data.backdrop_path + ')' }">
        <div class="container m-4">
            <div class="flex space-x-2">
                <ion-img class="w-1/3" [src]="data.poster_path " alt="poster"></ion-img>
                <div>
                    <div>{{data.overview}}</div>
                    <div>{{data.release_date}}</div>
                </div>
            </div>
        </div>
    </div>

    <h3>Top cast</h3>
    <div>{{data.casts.length}}</div>
    @for (item of data.casts; track $index) {

    <div class="flex items-center">
        <ion-avatar>
            <ion-img [src]="item.profile_path ?? '/assets/image/placeholder.jpg'" (ionError)="setFallback($event)" alt="profile"></ion-img>
        </ion-avatar>
        <div>
            <div>{{item.name}}</div>
            <div>{{item.character}}</div>
        </div>
    </div>

    }
</ion-content> -->
<ion-header [translucent]="true">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-button (click)="dismiss()">
                <ion-icon slot="icon-only" name="arrow-back-outline"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title class="truncate">{{ data.original_title }}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
    <!-- Backdrop Image Section -->
    <div class="bg-cover bg-center h-64 w-full relative flex items-end" [ngStyle]="{ 'background-image': 'url(' + data.backdrop_path + ')' }">
        <div class="absolute inset-0 bg-black bg-opacity-50"></div>
        <div class="text-white p-4">
            <h1 class="text-xl font-bold">{{ data.original_title }}</h1>
            <p class="text-sm">{{ data.release_date }}</p>
        </div>
    </div>

    <!-- Movie Details -->
    <div class="container mx-auto p-4">
        <div class="flex flex-wrap gap-4">
            <!-- Poster Image -->
            <ion-img class="w-32 h-auto rounded shadow-md" [src]="data.poster_path" (ionError)="setFallback($event)" alt="Movie Poster"></ion-img>

            <!-- Overview -->
            <div class="flex-1 space-y-2">
                <div>
                    <h2 class="text-lg font-semibold">Overview</h2>
                    <p class="text-sm text-gray-700">{{ data.overview }}</p>
                </div>
                <div>
                    <h3 class="text-md font-medium">Popularity</h3>
                    <p class="text-sm text-gray-500">{{ data.popularity }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Top Cast Section -->
    <div class="container mx-auto p-4">
        <h3 class="text-lg font-semibold mb-4">Top Cast</h3>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
            @for (item of data.casts; track $index) {
            <div class="flex flex-col items-center text-center space-y-2">
                <ion-avatar class="w-20 h-20">
                    <ion-img [src]="item.profile_path || '/assets/image/placeholder.jpg'" (ionError)="setFallback($event)" alt="Actor Image"></ion-img>
                </ion-avatar>
                <div>
                    <div class="font-medium text-sm">{{ item.name }}</div>
                    <div class="text-xs text-gray-500">{{ item.character }}</div>
                </div>
            </div>
            }
        </div>
    </div>
</ion-content>
